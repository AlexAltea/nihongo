function getParameterByName(name){name=name.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var regex=new RegExp("[\\?&]"+name+"=([^&#]*)"),results=regex.exec(location.search);return null===results?null:decodeURIComponent(results[1].replace(/\+/g," "))}function configLoadFile(url){$.getJSON(url,function(response){$.extend(config,response)})}$(document).ready(function(){var configUrl=getParameterByName("config");configUrl&&configLoadFile(configUrl)});var nihongo=angular.module("nihongo",["LocalStorageModule","ngResource","ngRoute"]);nihongo.config(["$routeProvider",function($routeProvider){$routeProvider.when("/",{templateUrl:"views/intro.html"}).when("/hiragana",{templateUrl:"views/tasks/hiragana.html",controller:"NihongoHiraganaController"}).when("/katakana",{templateUrl:"views/tasks/katakana.html",controller:"NihongoKatakanaController"}).when("/vocabulary",{templateUrl:"views/tasks/vocabulary.html",controller:"NihongoVocabularyController"})}]);var config={name:"Minna No Nihongo",description:"Vocabulary of the first 6 lessons",settings:{difficulty:"kana"},tasks:[{type:"vocabulary",name:"Minna no Nihongo: L1",data:{words:[{romaji:"watashi",kana:"わたし",kanji:"わたし",meaning:"ich"},{romaji:"anata",kana:"あなた",kanji:"あなた",meaning:"Sie"},{romaji:"anohito",kana:"あのひと",kanji:"あの人",meaning:"er, sie, die Person dort drüben"},{romaji:"〜san",kana:"〜さん",kanji:"〜さん",meaning:"Herr, Frau (respektvolle Anrede)"},{romaji:"〜chan",kana:"〜ちゃん",kanji:"〜ちゃん",meaning:"(Suffix, das für Vornamen von Kindern an Stelle von 〜さん verwendet wird)"},{romaji:"〜jin",kana:"〜じん",kanji:"〜人",meaning:"(Suffix, die die Nationalität ausdrückt)"},{romaji:"sensei",kana:"せんせい",kanji:"先生",meaning:"Lehrer/-in, Dozent/-in (wird nicht für den eigenen Berug verwendet)"},{romaji:"kyoushi",kana:"きょうし",kanji:"教師",meaning:"Lehrer/-in, Dozent/-in"},{romaji:"gakusei",kana:"がくせい",kanji:"学生",meaning:"Student/-in"},{romaji:"kaishain",kana:"かいしゃいん",kanji:"会社員",meaning:"Angestellte/-r"},{romaji:"shain",kana:"しゃいん",kanji:"社員",meaning:"Angestellte/-r einer Firma (wird im Zusammenhang mit dem Firmennamen verwendet)"},{romaji:"ginkoin",kana:"ぎんこういん",kanji:"銀行員",meaning:"Bankangestellte/-r"},{romaji:"isha",kana:"いしゃ",kanji:"医者",meaning:"Artz, Ärtzin"},{romaji:"kenkyuusha",kana:"けんきゅうしゃ",kanji:"研究者",meaning:"Forscher/-in"},{romaji:"daigaku",kana:"だいがく",kanji:"大学",meaning:"Universität"},{romaji:"byouin",kana:"びょういん",kanji:"病院",meaning:"Krankenhaus"},{romaji:"dare",kana:"だれ",kanji:"だれ",meaning:"wer"},{romaji:"ーsai",kana:"ーさい",kanji:"ー歳",meaning:"ー Jahre alt"},{romaji:"nansai",kana:"なんさい",kanji:"何歳",meaning:"wie alt"},{romaji:"hai",kana:"はい",kanji:"はい",meaning:"ja"},{romaji:"iie",kana:"いいえ",kanji:"いいえ",meaning:"nein"}]}},{type:"vocabulary",name:"Minna no Nihongo: L2",data:{words:[{romaji:"kore",kana:"これ",kanji:"",meaning:"diese/-r/-s"},{romaji:"sore",kana:"それ",kanji:"",meaning:"diese/-r/-s"},{romaji:"are",kana:"あれ",kanji:"",meaning:"jene/-r/-s"},{romaji:"kono〜",kana:"この",kanji:"",meaning:"diese/-r/-s 〜 hier"},{romaji:"sono〜",kana:"その",kanji:"",meaning:"diese/-r/-s 〜 da"},{romaji:"ano〜",kana:"あの",kanji:"",meaning:"jene/-r/-s 〜 dort drüben"}]}},{type:"vocabulary",name:"Minna no Nihongo: L3",data:{words:[]}},{type:"vocabulary",name:"Minna no Nihongo: L4",data:{words:[]}},{type:"vocabulary",name:"Minna no Nihongo: L5",data:{words:[]}},{type:"vocabulary",name:"Minna no Nihongo: L6",data:{words:[]}}]};nihongo.controller("NihongoHiraganaController",function($scope){}),nihongo.controller("NihongoKatakanaController",function($scope){}),nihongo.controller("NihongoVocabularyController",function($scope,localStorageService){$scope.collections=[],localStorageService.bind($scope,"scoreGood"),localStorageService.bind($scope,"scoreBad"),$scope.currentWord={},$scope.getNewWord=function(){for(var words=[],i=0;i<$scope.collections.length;i++)words=words.concat($scope.collections[i].data.words);$scope.currentWord=words[Math.floor(Math.random()*words.length)]},$scope.checkWord=function(){console.log($scope.currentWord),console.log($scope.currentInput),$scope.currentWord.kana==$scope.currentInput?$scope.scoreGood+=1:$scope.scoreBad+=1};var kanaInput=angular.element("#vocabularyInput").get(0);wanakana.bind(kanaInput);for(var i=0;i<config.tasks.length;i++){var task=config.tasks[i];"vocabulary"==task.type&&(task.active=!0,task.source="demo",$scope.collections.push(task))}$scope.getNewWord()});